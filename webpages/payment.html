<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Payment Processing - Wangige Market Stalls Allocation</title>
    <link rel="stylesheet" type="text/css" href="styling.css">
</head>

<body>
    <header>
        <nav>
            <ul>
                
                <li><a href="Home.html">Home</a></li>
                <li><a href="main.html">Main</a></li>
                
                <li><a href="directions.html">Directions</a></li>
                
                <li><a href="contacts.html">Contact Us</a></li>
                
                <li><a href="learnmore.html">Learnmore</a></li>
                
                
            </ul>
        </nav>
    </header>

    <section id="payment" class="content-section">
        <h2>Payment Processing</h2>
        <p>Securely and conveniently process your payments for market stall allocations.</p>

        <!-- Payment information and form -->
        <p>To make a payment, please provide your payment details below:</p>

        <!-- Payment form -->
        <form id="paymentForm">
            <label for="cardNumber">Card Number:</label>
            <input type="text" id="cardNumber" name="cardNumber" required>

            <label for="expirationDate">Expiration Date:</label>
            <input type="text" id="expirationDate" name="expirationDate" placeholder="MM/YYYY" required>

            <label for="cvv">CVV:</label>
            <input type="text" id="cvv" name="cvv" required>

            <button type="submit">Process Payment</button>
        </form>
    </section>

    <footer>
        <p>Â© 2023 Wangige Market Stalls Allocation. All rights reserved.</p>
        <p>Designed by <a href="https://github.com/mosekyle/Market-Stall-Allocation-App">Moses Gitau</a></p>
    </footer>

    <!-- ... Existing HTML code ... -->

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const paymentForm = document.getElementById("paymentForm");

        paymentForm.addEventListener("submit", (e) => {
            e.preventDefault();

            // Get payment details
            const cardNumber = document.getElementById("cardNumber").value;
            const expirationDate = document.getElementById("expirationDate").value;
            const cvv = document.getElementById("cvv").value;

            // Validate payment details
            if (validateCardNumber(cardNumber) && validateExpirationDate(expirationDate) && validateCVV(cvv)) {
                alert("Payment processed successfully!");
                window.location.href = "home.html";
            } else {
                alert("Invalid payment details. Please check and try again.");
            }
        });

        function validateCardNumber(cardNumber) {
            
            return /^\d{16}$/.test(cardNumber);
        }

        function validateExpirationDate(expirationDate) {
            
            const currentDate = new Date();
            const currentYear = currentDate.getFullYear() % 100; 
            const currentMonth = currentDate.getMonth() + 1; 

            const [inputMonth, inputYear] = expirationDate.split('/').map(part => parseInt(part, 10));

            return inputYear > currentYear || (inputYear === currentYear && inputMonth >= currentMonth);
        }

        function validateCVV(cvv) {
            
            return /^\d{3}$/.test(cvv);
        }
    });
</script>



</body>

</html>